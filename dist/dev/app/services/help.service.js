"use strict";
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var core_1 = require('@angular/core');
require('rxjs/Rx');
var constants = require('../constants');
var HelpService = (function () {
    function HelpService() {
    }
    HelpService.getTimezoneOffset = function (timezone) {
        var offset = moment().tz(timezone).format('Z');
        return HelpService.convertStringTimeToDouble(offset);
    };
    HelpService.convertStringTimeToDouble = function (time) {
        var arrTime = time.split(':');
        var minutes = (arrTime[1] === '00') ? '' : '5';
        return Number(arrTime[0] + '.' + minutes);
    };
    HelpService.convertDoubleTimeToString = function (time) {
        time = (time < 0) ? (24 + time) : time;
        time = (time >= 24) ? (time - 24) : time;
        var hour = (Math.floor(time) < 10) ? ('0' + Math.floor(time)) : (Math.floor(time) + '');
        var minute = String('0' + Math.round(time % 1 * 60)).substr(-2);
        return hour + ':' + minute;
    };
    HelpService.convertUTCToLocalTime = function (date, timezone, format) {
        if (format === void 0) { format = constants.DATE_TIME.LOCAL_FORMAT; }
        return moment.utc(date).local().tz(timezone).format(format) + '';
    };
    HelpService.getTimeLocalToUTC = function (time, timeZoneOffset) {
        time = time - timeZoneOffset;
        time = time < 0 ? (time + 24) : time >= 24 ? (time - 24) : time;
        var h = time < 10 ? '0' + (time * 10 - (time * 10) % 10) / 10 : (time * 10 - (time * 10) % 10) / 10 + '';
        var m = (time * 10) % 10 === 0 ? '00' : '30';
        return h + ':' + m;
    };
    HelpService.getListHoursInDay = function () {
        var hour;
        var hourH;
        var hours = [];
        for (var i = 0; i < 24; i++) {
            var period = i >= 12 ? 'PM' : 'AM';
            if (i < 10) {
                i = Number('0' + i);
            }
            var h = i;
            h = (h > 12) ? h - 12 : h;
            h = h ? h : 12;
            hour = { value: i, name: h + ':00 ' + period };
            hourH = { value: i + 0.5, name: h + ':30 ' + period };
            hours.push(hour);
            hours.push(hourH);
        }
        return hours;
    };
    HelpService.getUserLogo = function (logo) {
        if (!logo || logo === 'null') {
            return './assets/images/default/user_logo.png';
        }
        else {
            if (logo.startsWith(constants.CONFIG.URL))
                return logo;
            else if (logo.startsWith('./assets'))
                return logo;
            return constants.CONFIG.URL + '/assets/' + logo;
        }
    };
    HelpService = __decorate([
        core_1.Injectable(), 
        __metadata('design:paramtypes', [])
    ], HelpService);
    return HelpService;
}());
exports.HelpService = HelpService;

//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC9zZXJ2aWNlcy9oZWxwLnNlcnZpY2UudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUFBLHFCQUEyQixlQUFlLENBQUMsQ0FBQTtBQUMzQyxRQUFPLFNBQVMsQ0FBQyxDQUFBO0FBRWpCLElBQVksU0FBUyxXQUFNLGNBQWMsQ0FBQyxDQUFBO0FBRzFDO0lBQUE7SUE4REEsQ0FBQztJQTVEZSw2QkFBaUIsR0FBL0IsVUFBZ0MsUUFBZ0I7UUFDOUMsSUFBSSxNQUFNLEdBQVcsTUFBTSxFQUFFLENBQUMsRUFBRSxDQUFDLFFBQVEsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQztRQUN2RCxNQUFNLENBQUMsV0FBVyxDQUFDLHlCQUF5QixDQUFDLE1BQU0sQ0FBQyxDQUFDO0lBQ3ZELENBQUM7SUFFYSxxQ0FBeUIsR0FBdkMsVUFBd0MsSUFBWTtRQUNsRCxJQUFJLE9BQU8sR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxDQUFDO1FBQzlCLElBQUksT0FBTyxHQUFHLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxLQUFLLElBQUksQ0FBQyxHQUFHLEVBQUUsR0FBRyxHQUFHLENBQUM7UUFDL0MsTUFBTSxDQUFDLE1BQU0sQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLEdBQUcsR0FBRyxHQUFHLE9BQU8sQ0FBQyxDQUFDO0lBQzVDLENBQUM7SUFFYSxxQ0FBeUIsR0FBdkMsVUFBd0MsSUFBWTtRQUNsRCxJQUFJLEdBQUcsQ0FBQyxJQUFJLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxFQUFFLEdBQUcsSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDO1FBQ3ZDLElBQUksR0FBRyxDQUFDLElBQUksSUFBSSxFQUFFLENBQUMsR0FBRyxDQUFDLElBQUksR0FBRyxFQUFFLENBQUMsR0FBRyxJQUFJLENBQUM7UUFDekMsSUFBSSxJQUFJLEdBQUcsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxHQUFH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QUM7WUFDcEQsS0FBSyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQztZQUNqQixLQUFLLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDO1FBQ3BCLENBQUM7UUFDRCxNQUFNLENBQUMsS0FBSyxDQUFDO0lBQ2YsQ0FBQztJQUVhLHVCQUFXLEdBQXpCLFVBQTBCLElBQVk7UUFDcEMsRUFBRSxDQUFDLENBQUMsQ0FBQyxJQUFJLElBQUksSUFBSSxLQUFLLE1BQU0sQ0FBQyxDQUFDLENBQUM7WUFDN0IsTUFBTSxDQUFDLHVDQUF1QyxDQUFDO1FBQ2pELENBQUM7UUFBQyxJQUFJLENBQUMsQ0FBQztZQUNOLEVBQUUsQ0FBQyxDQUFDLElBQUksQ0FBQyxVQUFVLENBQUMsU0FBUyxDQUFDLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQztnQkFBQyxNQUFNLENBQUMsSUFBSSxDQUFDO1lBQ3ZELElBQUksQ0FBQyxFQUFFLENBQUMsQ0FBQyxJQUFJLENBQUMsVUFBVSxDQUFDLFVBQVUsQ0FBQyxDQUFDO2dCQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUM7WUFDbEQsTUFBTSxDQUFDLFNBQVMsQ0FBQyxNQUFNLENBQUMsR0FBRyxHQUFHLFVBQVUsR0FBRyxJQUFJLENBQUM7UUFDbEQsQ0FBQztJQUNILENBQUM7SUE5REg7UUFBQyxpQkFBVSxFQUFFOzttQkFBQTtJQStEYixrQkFBQztBQUFELENBOURBLEFBOERDLElBQUE7QUE5RFksbUJBQVcsY0E4RHZCLENBQUEiLCJmaWxlIjoiYXBwL3NlcnZpY2VzL2hlbHAuc2VydmljZS5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEluamVjdGFibGUgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCAncnhqcy9SeCc7XG5cbmltcG9ydCAqIGFzIGNvbnN0YW50cyBmcm9tICcuLi9jb25zdGFudHMnO1xuXG5ASW5qZWN0YWJsZSgpXG5leHBvcnQgY2xhc3MgSGVscFNlcnZpY2Uge1xuXG4gIHB1YmxpYyBzdGF0aWMgZ2V0VGltZXpvbmVPZmZzZXQodGltZXpvbmU6IHN0cmluZykge1xuICAgIGxldCBvZmZzZXQ6IHN0cmluZyA9IG1vbWVudCgpLnR6KHRpbWV6b25lKS5mb3JtYXQoJ1onKTtcbiAgICByZXR1cm4gSGVscFNlcnZpY2UuY29udmVydFN0cmluZ1RpbWVUb0RvdWJsZShvZmZzZXQpO1xuICB9XG5cbiAgcHVibGljIHN0YXRpYyBjb252ZXJ0U3RyaW5nVGltZVRvRG91YmxlKHRpbWU6IHN0cmluZyk6IG51bWJlciB7XG4gICAgbGV0IGFyclRpbWUgPSB0aW1lLnNwbGl0KCc6Jyk7XG4gICAgbGV0IG1pbnV0ZXMgPSAoYXJyVGltZVsxXSA9PT0gJzAwJykgPyAnJyA6ICc1JztcbiAgICByZXR1cm4gTnVtYmVyKGFyclRpbWVbMF0gKyAnLicgKyBtaW51dGVzKTtcbiAgfVxuXG4gIHB1YmxpYyBzdGF0aWMgY29udmVydERvdWJsZVRpbWVUb1N0cmluZyh0aW1lOiBudW1iZXIpOiBzdHJpbmcge1xuICAgIHRpbWUgPSAodGltZSA8IDApID8gKDI0ICsgdGltZSkgOiB0aW1lO1xuICAgIHRpbWUgPSAodGltZSA+PSAyNCkgPyAodGltZSAtIDI0KSA6IHRpbWU7XG4gICAgbGV0IGhvdXIgPSAoTWF0aC5mbG9vcih0aW1lKSA8IDEwKSA/ICgnMCcgKyBNYXRoLmZsb29yKHRpbWUpKSA6IChNYXRoLmZsb29yKHRpbWUpICsgJycpO1xuICAgIGxldCBtaW51dGUgPSBTdHJpbmcoJzAnICsgTWF0aC5yb3VuZCh0aW1lICUgMSAqIDYwKSkuc3Vic3RyKC0yKTtcbiAgICByZXR1cm4gaG91ciArICc6JyArIG1pbnV0ZTtcbiAgfVxuXG4gIHB1YmxpYyBzdGF0aWMgY29udmVydFVUQ1RvTG9jYWxUaW1lKGRhdGU6IHN0cmluZywgdGltZXpvbmU6IHN0cmluZywgZm9ybWF0ID0gY29uc3RhbnRzLkRBVEVfVElNRS5MT0NBTF9GT1JNQVQpOiBhbnkge1xuICAgIHJldHVybiBtb21lbnQudXRjKGRhdGUpLmxvY2FsKCkudHoodGltZXpvbmUpLmZvcm1hdChmb3JtYXQpICsgJyc7XG4gIH1cblxuICBwdWJsaWMgc3RhdGljIGdldFRpbWVMb2NhbFRvVVRDKHRpbWU6IG51bWJlciwgdGltZVpvbmVPZmZzZXQ6IG51bWJlcikge1xuICAgIHRpbWUgPSB0aW1lIC0gdGltZVpvbmVPZmZzZXQ7XG4gICAgdGltZSA9IHRpbWUgPCAwID8gKHRpbWUgKyAyNCkgOiB0aW1lID49IDI0ID8gKHRpbWUgLSAyNCkgOiB0aW1lO1xuICAgIGxldCBoID0gdGltZSA8IDEwID8gJzAnICsgKHRpbWUgKiAxMCAtICh0aW1lICogMTApICUgMTApIC8gMTAgOiAodGltZSAqIDEwIC0gKHRpbWUgKiAxMCkgJSAxMCkgLyAxMCArICcnO1xuICAgIGxldCBtID0gKHRpbWUgKiAxMCkgJSAxMCA9PT0gMCA/ICcwMCcgOiAnMzAnO1xuICAgIHJldHVybiBoICsgJzonICsgbTtcbiAgfVxuXG4gIHB1YmxpYyBzdGF0aWMgZ2V0TGlzdEhvdXJzSW5EYXkoKSB7XG4gICAgbGV0IGhvdXI6IGFueTtcbiAgICBsZXQgaG91ckg6IGFueTtcbiAgICBsZXQgaG91cnM6IHsgbmFtZTogc3RyaW5nLCB2YWx1ZTogbnVtYmVyIH1bXSA9IFtdO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgMjQ7IGkrKykge1xuICAgICAgbGV0IHBlcmlvZCA9IGkgPj0gMTIgPyAnUE0nIDogJ0FNJztcbiAgICAgIGlmIChpIDwgMTApIHtcbiAgICAgICAgaSA9IE51bWJlcignMCcgKyBpKTtcbiAgICAgIH1cbiAgICAgIGxldCBoID0gaTtcbiAgICAgIGggPSAoaCA+IDEyKSA/IGggLSAxMiA6IGg7XG4gICAgICBoID0gaCA/IGggOiAxMjsgLy8gdGhlIGhvdXIgJzAnIHNob3VsZCBiZSAnMTInXG4gICAgICBob3VyID0ge3ZhbHVlOiBpLCBuYW1lOiBoICsgJzowMCAnICsgcGVyaW9kfTtcbiAgICAgIGhvdXJIID0ge3ZhbHVlOiBpICsgMC41LCBuYW1lOiBoICsgJzozMCAnICsgcGVyaW9kfTtcbiAgICAgIGhvdXJzLnB1c2goaG91cik7XG4gICAgICBob3Vycy5wdXNoKGhvdXJIKTtcbiAgICB9XG4gICAgcmV0dXJuIGhvdXJzO1xuICB9XG5cbiAgcHVibGljIHN0YXRpYyBnZXRVc2VyTG9nbyhsb2dvOiBzdHJpbmcpIHtcbiAgICBpZiAoIWxvZ28gfHwgbG9nbyA9PT0gJ251bGwnKSB7XG4gICAgICByZXR1cm4gJy4vYXNzZXRzL2ltYWdlcy9kZWZhdWx0L3VzZXJfbG9nby5wbmcnO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAobG9nby5zdGFydHNXaXRoKGNvbnN0YW50cy5DT05GSUcuVVJMKSkgcmV0dXJuIGxvZ287XG4gICAgICBlbHNlIGlmIChsb2dvLnN0YXJ0c1dpdGgoJy4vYXNzZXRzJykpIHJldHVybiBsb2dvO1xuICAgICAgcmV0dXJuIGNvbnN0YW50cy5DT05GSUcuVVJMICsgJy9hc3NldHMvJyArIGxvZ287XG4gICAgfVxuICB9XG59XG4iXX0=
