"use strict";
var Category_1 = require('./Category');
var Court_1 = require('./Court');
var Sport_1 = require('./Sport');
var User_1 = require('./User');
var help_service_1 = require('../services/help.service');
var constants_1 = require('../constants');
var Event = (function () {
    function Event(options) {
        this.id = options && options.id || -1;
        this.name = options && options.name || '';
        this.description = options && options.description || '';
        this.contactEmail = options && options.contactEmail || '';
        this.contactPhone = options && options.contactPhone || '';
        this.ticketPrice = options && options.ticketPrice || 0;
        this.registrationLink = options && options.registrationLink || '';
        this.capacity = options && options.capacity || 0;
        this.sports = options && options.lstSport
            && options.lstSport.map(function (data) { return new Sport_1.Sport(data); }) || [];
        this.categories = options && options.lstCategory
            && options.lstCategory.map(function (data) { return new Category_1.Category(data); }) || [];
        this.address = options && options.address || '';
        this.latitude = options && options.latitude || 0;
        this.longitude = options && options.longitude || 0;
        this.numberOfRegisteredUsers = options && options.numberOfRegisteredUsers || 0;
        this.numberOfComments = options && options.numberOfComments || 0;
        this.numberOfLikes = options && options.numberOfLikes || 0;
        this.availableSlots = options && options.availableSlots || 0;
        this.status = options && options.status || {
            id: -1, statusCode: 'Unknown code', statusName: 'Unknown status'
        };
        this.repeatType = options && options.repeatType || 0;
        if (this.repeatType === 1) {
            this.repeatTypeName = 'Daily';
        }
        else if (this.repeatType === 2) {
            this.repeatTypeName = 'Weekly';
        }
        else if (this.repeatType === 3) {
            this.repeatTypeName = 'Monthly';
        }
        else {
            this.repeatTypeName = 'No repeat';
        }
        this.repeatFrequency = options && options.repeatFrequency || 1;
        this.isOccurMonday = options && options.isOccurMonday || false;
        this.isOccurTuesday = options && options.isOccurTuesday || false;
        this.isOccurWednesday = options && options.isOccurWednesday || false;
        this.isOccurThursday = options && options.isOccurThursday || false;
        this.isOccurFriday = options && options.isOccurFriday || false;
        this.isOccurSaturday = options && options.isOccurSaturday || false;
        this.isOccurSunday = options && options.isOccurSunday || false;
        this.canGuestModify = options && options.canGuestModify || false;
        this.canGuestInviteOthers = options && options.canGuestInviteOthers || false;
        this.canGuestSeeGuest = options && options.canGuestSeeGuest || false;
        this.notificationBy = options && options.notificationBy || 1;
        this.notificationBeforeHours = options && options.notificationBeforeHours || 0;
        this.requiredCheckIn = options && options.requiredCheckIn || false;
        this.localTimeZone = options && options.localTimeZone || 'UTC';
        var fieldTimezoneOffset = help_service_1.HelpService.getTimezoneOffset(this.localTimeZone);
        this.startDate = options && options.startDate && help_service_1.HelpService.convertUTCToLocalTime(options.startDate, this.localTimeZone) || '';
        this.endDate = options && options.endDate && help_service_1.HelpService.convertUTCToLocalTime(options.endDate, this.localTimeZone) || undefined;
        this.isAllDateEvent = options && !!options.isAllDateEvent;
        this.startTime = options && (options.startTime !== undefined)
            && help_service_1.HelpService.convertDoubleTimeToString(options.startTime + fieldTimezoneOffset) || '';
        this.endTime = options && (options.endTime !== undefined)
            && help_service_1.HelpService.convertDoubleTimeToString(options.endTime + fieldTimezoneOffset) || '';
        this.endDateType = options && options.endDateType || 1;
        this.endDateTypeName = options && options.endDateTypeName || 'Unknown end date type';
        this.eventType = options && options.eventType;
        this.eventTypeName = options && options.eventTypeName || 'Unknown event type';
        this.sponsoredByBranch = options && new Court_1.Court(options.sponsoredByBranch) || new Court_1.Court();
        this.images = options && options.images.map(function (item) { return Event.getImage(item); }) || Event.getImage('');
        var userData = options && options.createdBy && {
            userId: options.createdBy.id,
            userName: options.createdBy.userName,
            userImage: options.createdBy.userImage,
            email: options.createdBy.email
        } || {};
        this.createdBy = userData && new User_1.User(userData) || new User_1.User();
        this.hasMainEvent = options && options.hasMainEvent;
        this.hasSubEvent = options && options.hasSubEvent;
        this.isMemberOnly = options && options.isMemberOnly;
        this.isPublic = options && options.isPublic;
        this.registrationStartDate = options && options.registrationStartDate &&
            help_service_1.HelpService.convertUTCToLocalTime(options.registrationStartDate, this.localTimeZone) || '';
        this.registrationEndDate = options && options.registrationEndDate &&
            help_service_1.HelpService.convertUTCToLocalTime(options.registrationEndDate, this.localTimeZone) || '';
    }
    Event.getImage = function (image) {
        image = image && image.split(' ').join('%20');
        if (!image || image === 'null') {
            return './assets/images/default/event.png';
        }
        else {
            if (image.startsWith(constants_1.CONFIG.URL))
                return image;
            return constants_1.CONFIG.URL + '/assets/' + image;
        }
    };
    Event.type = {
        PickupGame: 0, Personal: 1, Sponsored: 2,
        Branch: 3, GuildTeam: 4, LeagueTeam: 5,
        ScheduledClass: 6, LeagueMatchup: 7, GuildGame: 8
    };
    Event.repeatType = {
        NoRepeat: 0, Daily: 1, Weekly: 2, Monthly: 3
    };
    Event.notificationType = {
        Message: 1, Email: 2
    };
    return Event;
}());
exports.Event = Event;

//# sourceMappingURL=data:application/json;charset=utf8;base64,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QUFFLENBQUMsQ0FBQyxDQUFDLEtBQUssSUFBSSxLQUFLLEtBQUssTUFBTSxDQUFDLENBQUMsQ0FBQztZQUMvQixNQUFNLENBQUMsbUNBQW1DLENBQUM7UUFDN0MsQ0FBQztRQUFDLElBQUksQ0FBQyxDQUFDO1lBQ04sRUFBRSxDQUFDLENBQUMsS0FBSyxDQUFDLFVBQVUsQ0FBQyxrQkFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDO2dCQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUM7WUFDL0MsTUFBTSxDQUFDLGtCQUFNLENBQUMsR0FBRyxHQUFHLFVBQVUsR0FBRyxLQUFLLENBQUM7UUFDekMsQ0FBQztJQUNILENBQUM7SUE1RmEsVUFBSSxHQUFHO1FBQ25CLFVBQVUsRUFBRSxDQUFDLEVBQUUsUUFBUSxFQUFFLENBQUMsRUFBRSxTQUFTLEVBQUUsQ0FBQztRQUN4QyxNQUFNLEVBQUUsQ0FBQyxFQUFFLFNBQVMsRUFBRSxDQUFDLEVBQUUsVUFBVSxFQUFFLENBQUM7UUFDdEMsY0FBYyxFQUFFLENBQUMsRUFBRSxhQUFhLEVBQUUsQ0FBQyxFQUFFLFNBQVMsRUFBRSxDQUFDO0tBQ2xELENBQUM7SUFFWSxnQkFBVSxHQUFHO1FBQ3pCLFFBQVEsRUFBRSxDQUFDLEVBQUUsS0FBSyxFQUFFLENBQUMsRUFBRSxNQUFNLEVBQUUsQ0FBQyxFQUFFLE9BQU8sRUFBRSxDQUFDO0tBQzdDLENBQUM7SUFFWSxzQkFBZ0IsR0FBRztRQUMvQixPQUFPLEVBQUUsQ0FBQyxFQUFFLEtBQUssRUFBRSxDQUFDO0tBQ3JCLENBQUM7SUFnTEosWUFBQztBQUFELENBN0xBLEFBNkxDLElBQUE7QUE3TFksYUFBSyxRQTZMakIsQ0FBQSIsImZpbGUiOiJhcHAvbW9kZWxzL0V2ZW50LmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgSUNhdGVnb3J5T3B0aW9ucywgQ2F0ZWdvcnkgfSBmcm9tICcuL0NhdGVnb3J5JztcbmltcG9ydCB7IElDb3VydE9wdGlvbnMgYXMgSUJyYW5jaE9wdGlvbnMsIENvdXJ0IGFzIEJyYW5jaCB9IGZyb20gJy4vQ291cnQnO1xuaW1wb3J0IHsgSVNwb3J0T3B0aW9ucywgU3BvcnQgfSBmcm9tICcuL1Nwb3J0JztcbmltcG9ydCB7IFVzZXIgfSBmcm9tICcuL1VzZXInO1xuXG5pbXBvcnQgeyBIZWxwU2VydmljZSB9IGZyb20gJy4uL3NlcnZpY2VzL2hlbHAuc2VydmljZSc7XG5pbXBvcnQgeyBDT05GSUcsIERBVEVfVElNRSB9IGZyb20gJy4uL2NvbnN0YW50cyc7XG4vLyBpbXBvcnQgKiBhcyBtb21lbnQgZnJvbSAnbW9tZW50LXRpbWV6b25lJztcblxuZXhwb3J0IGludGVyZmFjZSBJRXZlbnRPcHRpb25zIHtcbiAgaWQ6IG51bWJlcjtcbiAgbmFtZTogc3RyaW5nO1xuICBkZXNjcmlwdGlvbjogc3RyaW5nO1xuICBjb250YWN0RW1haWw6IHN0cmluZztcbiAgY29udGFjdFBob25lOiBzdHJpbmc7XG4gIHRpY2tldFByaWNlOiBudW1iZXI7XG4gIHJlZ2lzdHJhdGlvbkxpbms6IHN0cmluZztcbiAgaW1hZ2VzOiBhbnk7XG4gIGNhcGFjaXR5OiBudW1iZXI7XG4gIGZyb21BZ2U6IG51bWJlcjtcbiAgdG9BZ2U6IG51bWJlcjtcbiAgbHN0U3BvcnQ6IElTcG9ydE9wdGlvbnNbXTtcbiAgbHN0Q2F0ZWdvcnk6IElDYXRlZ29yeU9wdGlvbnNbXTtcbiAgYWRkcmVzczogc3RyaW5nO1xuICBsYXRpdHVkZTogbnVtYmVyO1xuICBsb25naXR1ZGU6IG51bWJlcjtcbiAgc3RhdHVzOiB7IGlkOiBudW1iZXI7IHN0YXR1c0NvZGU6IHN0cmluZzsgc3RhdHVzTmFtZTogc3RyaW5nIH07XG4gIG51bWJlck9mUmVnaXN0ZXJlZFVzZXJzOiBudW1iZXI7XG4gIG51bWJlck9mQ29tbWVudHM6IG51bWJlcjtcbiAgbnVtYmVyT2ZMaWtlczogbnVtYmVyO1xuICBhdmFpbGFibGVTbG90czogbnVtYmVyO1xuXG4gIHN0YXJ0RGF0ZTogc3RyaW5nO1xuICBlbmREYXRlVHlwZTogbnVtYmVyO1xuICBlbmREYXRlVHlwZU5hbWU6IHN0cmluZztcbiAgZW5kRGF0ZTogc3RyaW5nO1xuICBpc0FsbERhdGVFdmVudDogYm9vbGVhbjtcbiAgc3RhcnRUaW1lOiBudW1iZXI7XG4gIGVuZFRpbWU6IG51bWJlcjtcbiAgZXZlbnRUeXBlOiBudW1iZXI7XG4gIGV2ZW50VHlwZU5hbWU6IHN0cmluZztcbiAgcmVwZWF0VHlwZTogbnVtYmVyO1xuICByZXBlYXRUeXBlTmFtZTogc3RyaW5nO1xuICByZXBlYXRGcmVxdWVuY3k6IG51bWJlcjtcbiAgaXNPY2N1ck1vbmRheTogYm9vbGVhbjtcbiAgaXNPY2N1clR1ZXNkYXk6IGJvb2xlYW47XG4gIGlzT2NjdXJXZWRuZXNkYXk6IGJvb2xlYW47XG4gIGlzT2NjdXJUaHVyc2RheTogYm9vbGVhbjtcbiAgaXNPY2N1ckZyaWRheTogYm9vbGVhbjtcbiAgaXNPY2N1clNhdHVyZGF5OiBib29sZWFuO1xuICBpc09jY3VyU3VuZGF5OiBib29sZWFuO1xuICBjYW5HdWVzdE1vZGlmeTogYm9vbGVhbjtcbiAgY2FuR3Vlc3RJbnZpdGVPdGhlcnM6IGJvb2xlYW47XG4gIGNhbkd1ZXN0U2VlR3Vlc3Q6IGJvb2xlYW47XG4gIG5vdGlmaWNhdGlvbkJ5OiBudW1iZXI7XG4gIG5vdGlmaWNhdGlvbkJlZm9yZUhvdXJzOiBudW1iZXI7XG4gIHJlcXVpcmVkQ2hlY2tJbjogYm9vbGVhbjtcblxuICBsb2NhbFRpbWVab25lOiBzdHJpbmc7XG4gIGNyZWF0ZWRCeTogYW55O1xuICBzcG9uc29yZWRCeUJyYW5jaDogSUJyYW5jaE9wdGlvbnM7XG5cbiAgaGFzTWFpbkV2ZW50OiBib29sZWFuO1xuICBoYXNTdWJFdmVudDogYm9vbGVhbjtcblxuICBpc01lbWJlck9ubHk6IGJvb2xlYW47XG4gIGlzUHVibGljOiBib29sZWFuO1xuXG4gIHJlZ2lzdHJhdGlvblN0YXJ0RGF0ZTogc3RyaW5nO1xuICByZWdpc3RyYXRpb25FbmREYXRlOiBzdHJpbmc7XG59XG5cbi8qKlxuICogRXZlbnQgbW9kZWxzXG4gKlxuICogYWNjZXNzVG9rZW4gKFN0cmluZyk6IHJlcXVpcmVkXG4gKiBuYW1lIChTdHJpbmcpOiByZXF1aXJlZFxuICogZGVzY3JpcHRpb24gKFN0cmluZyk6IG5vdCByZXF1aXJlZFxuICogc3RhcnREYXRlIChMb25nIGluIFVUQyk6IHJlcXVpcmVkXG4gKiBzdGFydFRpbWUgKERvdWJsZSBpbiBVVEMpOiByZXF1aXJlZFxuICogZW5kVGltZSAoRG91YmxlIGluIFVUQyk6IHJlcXVpcmVkXG4gKiBpc0FsbERhdGVFdmVudCAoQm9vbGVhbik6IHJlcXVpcmVkLCBkZWZhdWx0IEZhbHNlXG4gKiBldmVudFR5cGUgKEludCk6IHJlcXVpcmVkXG4gKiAgICA9IDA6IEEgcGlja3VwIGdhbWVcbiAqICAgID0gMTogUGVyc29uYWwgZXZlbnRcbiAqICAgID0gMjogU3BvbnNvcmVkIGV2ZW50IChzb2NpYWwgZXZlbnQpXG4gKiAgICA9IDM6IEJyYW5jaCBldmVudCAvLyBSRU1PVkVELiBXZSB1c2UgZXZlbnRfdHlwZSA9IDIgaW5zdGVhZCwgZ28gd2l0aCBhIHZhbGlkIGJyYW5jaCBpZC5cbiAqICAgID0gNDogR3VpbGQgdGVhbSBpbnRlcm5hbCBldmVudFxuICogICAgPSA1OiBMZWFndWUgdGVhbSBpbnRlcm5hbCBldmVudFxuICogICAgPSA2OiBzY2hlZHVsZWQgY2xhc3NcbiAqICAgID0gNzogbWF0Y2h1cCBpbiBsZWFndWVcbiAqICAgID0gODogZ3VpbGQgZ2FtZVxuICogTm90ZXM6IHRoYXQgYSBwaWNrdXAgZ2FtZSwgYSBzcG9uc29yZWQgZXZlbnQgKHNvY2lhbCBldmVudCkgb3IgYSBjbGFzcyxcbiAqICAgIGlmIGl0IGlzIGNyZWF0ZWQgdW5kZXIgYSBicmFuY2gsIHdlIG5lZWQgdG8gaW5wdXQgdGhlIGJyYW5jaCBpZFxuICogZW5kRGF0ZVR5cGUgKEludCk6IHJlcXVpcmVkLCBkZWZhdWx0IGlzIDJcbiAqICAgID0gMTogbmV2ZXIgZW5kXG4gKiAgICA9IDI6IGVuZCBvbiBhIHNwZWNpZmljIGRhdGUgKCBnbyB3aXRoIGFuIGVuZERhdGUpXG4gKiBpc0FsbERhdGVFdmVudCAoQm9vbGVhbik6IHJlcXVpcmVkLCBkZWZhdWx0IGlzIEZhbHNlXG4gKiBpc09jY3VyTW9uZGF5Li4uLmlzT2NjdXJTdW5kYXkgKEJvb2xlYW4pOiBkZWZhdWx0IGlzIEZhbHNlLCBnbyB3aXRoIHJlcGVhdF90eXBlID0gMiAoV2Vla2x5KVxuICogcmVwZWF0VHlwZTpcbiAqICAgID0gMDogTm8gcmVwZWF0XG4gKiAgICA9IDE6IERhaWx5XG4gKiAgICA9IDI6IFdlZWtseVxuICogICAgPSAzOiBNb250aGx5XG4gKiAod2UgZG8gbm90IHN1cHBvcnQgb3RoZXIgdHlwZXMpXG4gKiBUaGUgd2Vla2x5IHR5cGUgd2lsbCB1c3VhbGx5IGdvIHdpdGggdGhlIG9jY3VycmVkIHdlZWtkYXlzLlxuICogcmVwZWF0RnJlcXVlbmN5OiB0aGUgc2NvcGUgKGJ5IG51bWJlciBvZiBkYXlzKSBvZiByZXBlYXRpbmdcbiAqIGxvY2FsVGltZVpvbmU6IHRoZSB0aW1lem9uZSB3aGVyZSB0aGUgZXZlbnQgaXMgdGFrZW4gcGxhY2VcbiAqIHNwb25zb3JlZEJ5QnJhbmNoSWQ6IGlmIHRoZSBldmVudFR5cGUgPSAzLCBpdCBzaG91bGQgZ28gd2l0aCBhIGJyYW5jaCBJZCB3aGVyZSB0aGF0IGV2ZW50IGJlbG9uZ3MgdG8uIFBhc3MgLTEgaWYgbm90IGJlbG9uZyB0byBhIGJyYW5jaFxuICogc3BvbnNvcmVkQnlUZWFtSWQgKGV2ZW50VHlwZSA9IDQpIGFuZCBzcG9uc29yZWRCeVRlYW1MZWFndWVJZCAoZXZlbnRUeXBlID01KTpcbiAqICAgIG1lYW5zIHRoYXQgdGhpcyBpcyBhbiBpbnRlcm5hbCB0ZWFtIGV2ZW50ICh3aGljaCBpcyBwdWJsaXNoZWQgdG8gdGhlIG1lbWJlcnMgb2YgdGVhbSBvbmx5KSxcbiAqICAgIHNvIGl0IHNob3VsZCBnbyB3aXRoIGVpdGhlciBzcG9uc29yZWRCeVRlYW1JZCBvciBzcG9uc29yZWRCeVRlYW1MZWFndWVJZC4gUGFzcyAtMSBpZiBub3QgYmVsb25nIHRvIGEgdGVhbS5cbiAqIHByaWNlIChEb3VibGUpOiByZXF1aXJlZCwgY2FuIGJlID0gMCAoRnJlZSlcbiAqIGltYWdlcyAoQXJyYXkgb2YgU3RyaW5nKTogbm90IHJlcXVpcmVkXG4gKiBjYXBhY2l0eSAoSW50KTogPSAwIGlmIHVubGltaXRlZFxuICogYWdlR3JvdXAgKEFycmF5IG9mIEludCk6IG5vdCByZXF1aXJlZFxuICogc3BvcnRzIChBcnJheSBvZiBJbnQpOiBub3QgcmVxdWlyZWRcbiAqIGlzU29jaWFsRXZlbnQgKEJvb2xlYW4pOiBkZWZhdWx0IGlzIEZhbHNlXG4gKiBmYWNpbGl0eUlkIChJbnQpOiBub3QgcmVxdWlyZWQsIHBhc3MgLTEgaWYgdGhlcmUgaXMgbm8gZmFjaWxpdHkgbGlua2VkXG4gKiBpc1B1YmxpYyAoQm9vbGVhbik6IGRlZmF1bHQgaXMgdHJ1ZSwgaWYgdGhpcyBpcyBwYXNzZWQgYXMgRkFMU0UsIHRoZW4sIHRoZSBhY3Rpdml0eSBpcyBCWSBJTlZJVEFUSU9OIE9OTFkuXG4gKiBpc01lbWJlck9ubHk6IGlmIHRoZSBldmVudCByZXF1aXJlcyBtZW1iZXJzaGlwLCBkZWZhdWx0IGlzIEZBTFNFXG4gKiBhZGRyZXNzLCBsYXRpdHVkZSwgbG9uZ2l0dWRlOiByZXF1aXJlZFxuICogY2FuR3Vlc3RNb2RpZnk6IGNhbiBhIGd1ZXN0IG1vZGlmeSB0aGUgZXZlbnQgKGRlZmF1bHQgPSBmYWxzZSlcbiAqIGNhbkd1ZXN0SW52aXRlT3RoZXJzIChhdmFpbGFibGUgaWYgY2FuR3Vlc3RNb2RpZnkgPSBmYWxzZSk6IGNhbiBhIGd1ZXN0IGludml0ZSBvdGhlcnNcbiAqIGNhbkd1ZXN0U2VlR3Vlc3QgKGF2YWlsYWJsZSBpZiBjYW5HdWVzdE1vZGlmeSA9IGZhbHNlKTogY2FuIGEgZ3Vlc3Qgc2VlIGxpc3Qgb2YgZ3Vlc3RzXG4gKiBub3RpZmljYXRpb25CeTogbWV0aG9kIG9mIG5vdGlmaWNhdGlvbjpcbiAqICAgID0gMTogbWVzc2FnZSBib3ggKGRlZmF1bHQpXG4gKiAgICA9IDI6IGVtYWlsXG4gKiBub3RpZmljYXRpb25CZWZvcmVIb3VyczogdGhlIG51bWJlciBvZiBob3VyIGJlZm9yZSB0aGUgdGltZSBldmVudCBoYXBwZW4gdGhhdCB1c2VyIGV4cGVjdCBvdXIgc3lzdGVtIHRvIHNlbmQgb3V0IGEgbm90aWZpY2F0aW9uIHRvIGhpbS5cbiAqL1xuZXhwb3J0IGNsYXNzIEV2ZW50IHtcbiAgcHVibGljIHN0YXRpYyB0eXBlID0ge1xuICAgIFBpY2t1cEdhbWU6IDAsIFBlcnNvbmFsOiAxLCBTcG9uc29yZWQ6IDIsXG4gICAgQnJhbmNoOiAzLCBHdWlsZFRlYW06IDQsIExlYWd1ZVRlYW06IDUsXG4gICAgU2NoZWR1bGVkQ2xhc3M6IDYsIExlYWd1ZU1hdGNodXA6IDcsIEd1aWxkR2FtZTogOFxuICB9O1xuXG4gIHB1YmxpYyBzdGF0aWMgcmVwZWF0VHlwZSA9IHtcbiAgICBOb1JlcGVhdDogMCwgRGFpbHk6IDEsIFdlZWtseTogMiwgTW9udGhseTogM1xuICB9O1xuXG4gIHB1YmxpYyBzdGF0aWMgbm90aWZpY2F0aW9uVHlwZSA9IHtcbiAgICBNZXNzYWdlOiAxLCBFbWFpbDogMlxuICB9O1xuXG4gIC8vIEdlbmVyYWwgcHJvcGVydGllc1xuICBwdWJsaWMgaWQ6IG51bWJlcjtcbiAgcHVibGljIG5hbWU6IHN0cmluZztcbiAgcHVibGljIGRlc2NyaXB0aW9uOiBzdHJpbmc7XG4gIHB1YmxpYyBjb250YWN0RW1haWw6IHN0cmluZztcbiAgcHVibGljIGNvbnRhY3RQaG9uZTogc3RyaW5nO1xuICBwdWJsaWMgdGlja2V0UHJpY2U6IG51bWJlcjtcbiAgcHVibGljIHJlZ2lzdHJhdGlvbkxpbms6IHN0cmluZztcbiAgcHVibGljIGltYWdlczogc3RyaW5nW107XG4gIHB1YmxpYyBjYXBhY2l0eTogbnVtYmVyO1xuICBwdWJsaWMgc3BvcnRzOiBTcG9ydFtdO1xuICBwdWJsaWMgY2F0ZWdvcmllczogQ2F0ZWdvcnlbXTtcbiAgcHVibGljIGFkZHJlc3M6IHN0cmluZztcbiAgcHVibGljIGxhdGl0dWRlOiBudW1iZXI7XG4gIHB1YmxpYyBsb25naXR1ZGU6IG51bWJlcjtcbiAgcHVibGljIHN0YXR1czogeyBpZDogbnVtYmVyLCBzdGF0dXNDb2RlOiBzdHJpbmcsIHN0YXR1c05hbWU6IHN0cmluZyB9O1xuICBwdWJsaWMgbnVtYmVyT2ZSZWdpc3RlcmVkVXNlcnM6IG51bWJlcjtcbiAgcHVibGljIG51bWJlck9mQ29tbWVudHM6IG51bWJlcjtcbiAgcHVibGljIG51bWJlck9mTGlrZXM6IG51bWJlcjtcbiAgcHVibGljIGF2YWlsYWJsZVNsb3RzOiBudW1iZXI7XG5cbiAgLy8gRXZlbnQgZnJlcXVlbmN5IHByb3BlcnRpZXNcbiAgcHVibGljIHJlcGVhdFR5cGU6IG51bWJlcjtcbiAgcHVibGljIHJlcGVhdFR5cGVOYW1lOiBzdHJpbmc7XG4gIHB1YmxpYyByZXBlYXRGcmVxdWVuY3k6IG51bWJlcjtcbiAgcHVibGljIGlzT2NjdXJNb25kYXk6IGJvb2xlYW47XG4gIHB1YmxpYyBpc09jY3VyVHVlc2RheTogYm9vbGVhbjtcbiAgcHVibGljIGlzT2NjdXJXZWRuZXNkYXk6IGJvb2xlYW47XG4gIHB1YmxpYyBpc09jY3VyVGh1cnNkYXk6IGJvb2xlYW47XG4gIHB1YmxpYyBpc09jY3VyRnJpZGF5OiBib29sZWFuO1xuICBwdWJsaWMgaXNPY2N1clNhdHVyZGF5OiBib29sZWFuO1xuICBwdWJsaWMgaXNPY2N1clN1bmRheTogYm9vbGVhbjtcblxuICAvLyBQZXJtaXNzaW9uc1xuICBwdWJsaWMgY2FuR3Vlc3RNb2RpZnk6IGJvb2xlYW47XG4gIHB1YmxpYyBjYW5HdWVzdEludml0ZU90aGVyczogYm9vbGVhbjtcbiAgcHVibGljIGNhbkd1ZXN0U2VlR3Vlc3Q6IGJvb2xlYW47XG4gIHB1YmxpYyBub3RpZmljYXRpb25CeTogbnVtYmVyO1xuICBwdWJsaWMgbm90aWZpY2F0aW9uQmVmb3JlSG91cnM6IG51bWJlcjtcbiAgcHVibGljIHJlcXVpcmVkQ2hlY2tJbjogYm9vbGVhbjtcblxuICAvLyBFdmVudCB0aW1lXG4gIHB1YmxpYyBsb2NhbFRpbWVab25lOiBzdHJpbmc7XG4gIHB1YmxpYyBzdGFydERhdGU6IHN0cmluZztcbiAgcHVibGljIGVuZERhdGU6IHN0cmluZztcbiAgcHVibGljIGVuZERhdGVUeXBlOiBudW1iZXI7XG4gIHB1YmxpYyBlbmREYXRlVHlwZU5hbWU6IHN0cmluZztcblxuICBwdWJsaWMgc3RhcnRUaW1lOiBzdHJpbmc7XG4gIHB1YmxpYyBlbmRUaW1lOiBzdHJpbmc7XG4gIHB1YmxpYyBpc0FsbERhdGVFdmVudDogYm9vbGVhbjtcblxuICBwdWJsaWMgZXZlbnRUeXBlOiBudW1iZXI7XG4gIHB1YmxpYyBldmVudFR5cGVOYW1lOiBzdHJpbmc7XG4gIHB1YmxpYyBzcG9uc29yZWRCeUJyYW5jaDogQnJhbmNoO1xuXG4gIHB1YmxpYyBjcmVhdGVkQnk6IFVzZXI7XG5cbiAgcHVibGljIGlzU3RhcnRlZDogYm9vbGVhbjtcbiAgcHVibGljIGlzRW5kZWQ6IGJvb2xlYW47XG5cbiAgcHVibGljIGhhc01haW5FdmVudDogYm9vbGVhbjtcbiAgcHVibGljIGhhc1N1YkV2ZW50OiBib29sZWFuO1xuXG4gIHB1YmxpYyBpc01lbWJlck9ubHk6IGJvb2xlYW47XG4gIHB1YmxpYyBpc1B1YmxpYzogYm9vbGVhbjtcblxuICBwdWJsaWMgcmVnaXN0cmF0aW9uU3RhcnREYXRlOiBzdHJpbmc7XG4gIHB1YmxpYyByZWdpc3RyYXRpb25FbmREYXRlOiBzdHJpbmc7XG5cbiAgcHVibGljIHN0YXRpYyBnZXRJbWFnZShpbWFnZTogc3RyaW5nKSB7XG4gICAgaW1hZ2UgPSBpbWFnZSAmJiBpbWFnZS5zcGxpdCgnICcpLmpvaW4oJyUyMCcpO1xuICAgIGlmICghaW1hZ2UgfHwgaW1hZ2UgPT09ICdudWxsJykge1xuICAgICAgcmV0dXJuICcuL2Fzc2V0cy9pbWFnZXMvZGVmYXVsdC9ldmVudC5wbmcnO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoaW1hZ2Uuc3RhcnRzV2l0aChDT05GSUcuVVJMKSkgcmV0dXJuIGltYWdlO1xuICAgICAgcmV0dXJuIENPTkZJRy5VUkwgKyAnL2Fzc2V0cy8nICsgaW1hZ2U7XG4gICAgfVxuICB9XG5cbiAgY29uc3RydWN0b3IoKVxuICBjb25zdHJ1Y3RvcihvcHRpb25zOiBJRXZlbnRPcHRpb25zKVxuICBjb25zdHJ1Y3RvcihvcHRpb25zPzogSUV2ZW50T3B0aW9ucykge1xuICAgIHRoaXMuaWQgPSBvcHRpb25zICYmIG9wdGlvbnMuaWQgfHwgLTE7XG4gICAgdGhpcy5uYW1lID0gb3B0aW9ucyAmJiBvcHRpb25zLm5hbWUgfHwgJyc7XG4gICAgdGhpcy5kZXNjcmlwdGlvbiA9IG9wdGlvbnMgJiYgb3B0aW9ucy5kZXNjcmlwdGlvbiB8fCAnJztcbiAgICB0aGlzLmNvbnRhY3RFbWFpbCA9IG9wdGlvbnMgJiYgb3B0aW9ucy5jb250YWN0RW1haWwgfHwgJyc7XG4gICAgdGhpcy5jb250YWN0UGhvbmUgPSBvcHRpb25zICYmIG9wdGlvbnMuY29udGFjdFBob25lIHx8ICcnO1xuICAgIHRoaXMudGlja2V0UHJpY2UgPSBvcHRpb25zICYmIG9wdGlvbnMudGlja2V0UHJpY2UgfHwgMDtcbiAgICB0aGlzLnJlZ2lzdHJhdGlvbkxpbmsgPSBvcHRpb25zICYmIG9wdGlvbnMucmVnaXN0cmF0aW9uTGluayB8fCAnJztcbiAgICB0aGlzLmNhcGFjaXR5ID0gb3B0aW9ucyAmJiBvcHRpb25zLmNhcGFjaXR5IHx8IDA7XG5cbiAgICB0aGlzLnNwb3J0cyA9IG9wdGlvbnMgJiYgb3B0aW9ucy5sc3RTcG9ydFxuICAgICAgJiYgb3B0aW9ucy5sc3RTcG9ydC5tYXAoKGRhdGE6IGFueSkgPT4gbmV3IFNwb3J0KGRhdGEpKSB8fCBbXTtcblxuICAgIHRoaXMuY2F0ZWdvcmllcyA9IG9wdGlvbnMgJiYgb3B0aW9ucy5sc3RDYXRlZ29yeVxuICAgICAgJiYgb3B0aW9ucy5sc3RDYXRlZ29yeS5tYXAoKGRhdGE6IGFueSkgPT4gbmV3IENhdGVnb3J5KGRhdGEpKSB8fCBbXTtcblxuICAgIHRoaXMuYWRkcmVzcyA9IG9wdGlvbnMgJiYgb3B0aW9ucy5hZGRyZXNzIHx8ICcnO1xuICAgIHRoaXMubGF0aXR1ZGUgPSBvcHRpb25zICYmIG9wdGlvbnMubGF0aXR1ZGUgfHwgMDtcbiAgICB0aGlzLmxvbmdpdHVkZSA9IG9wdGlvbnMgJiYgb3B0aW9ucy5sb25naXR1ZGUgfHwgMDtcbiAgICB0aGlzLm51bWJlck9mUmVnaXN0ZXJlZFVzZXJzID0gb3B0aW9ucyAmJiBvcHRpb25zLm51bWJlck9mUmVnaXN0ZXJlZFVzZXJzIHx8IDA7XG4gICAgdGhpcy5udW1iZXJPZkNvbW1lbnRzID0gb3B0aW9ucyAmJiBvcHRpb25zLm51bWJlck9mQ29tbWVudHMgfHwgMDtcbiAgICB0aGlzLm51bWJlck9mTGlrZXMgPSBvcHRpb25zICYmIG9wdGlvbnMubnVtYmVyT2ZMaWtlcyB8fCAwO1xuICAgIHRoaXMuYXZhaWxhYmxlU2xvdHMgPSBvcHRpb25zICYmIG9wdGlvbnMuYXZhaWxhYmxlU2xvdHMgfHwgMDtcbiAgICB0aGlzLnN0YXR1cyA9IG9wdGlvbnMgJiYgb3B0aW9ucy5zdGF0dXMgfHwge1xuICAgICAgaWQ6IC0xLCBzdGF0dXNDb2RlOiAnVW5rbm93biBjb2RlJywgc3RhdHVzTmFtZTogJ1Vua25vd24gc3RhdHVzJ1xuICAgIH07XG5cbiAgICAvLyBFdmVudCBmcmVxdWVuY3kgcHJvcGVydGllc1xuICAgIHRoaXMucmVwZWF0VHlwZSA9IG9wdGlvbnMgJiYgb3B0aW9ucy5yZXBlYXRUeXBlIHx8IDA7XG4gICAgaWYgKHRoaXMucmVwZWF0VHlwZSA9PT0gMSkge1xuICAgICAgdGhpcy5yZXBlYXRUeXBlTmFtZSA9ICdEYWlseSc7XG4gICAgfSBlbHNlIGlmICh0aGlzLnJlcGVhdFR5cGUgPT09IDIpIHtcbiAgICAgIHRoaXMucmVwZWF0VHlwZU5hbWUgPSAnV2Vla2x5JztcbiAgICB9IGVsc2UgaWYgKHRoaXMucmVwZWF0VHlwZSA9PT0gMykge1xuICAgICAgdGhpcy5yZXBlYXRUeXBlTmFtZSA9ICdNb250aGx5JztcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5yZXBlYXRUeXBlTmFtZSA9ICdObyByZXBlYXQnO1xuICAgIH1cbiAgICB0aGlzLnJlcGVhdEZyZXF1ZW5jeSA9IG9wdGlvbnMgJiYgb3B0aW9ucy5yZXBlYXRGcmVxdWVuY3kgfHwgMTtcbiAgICB0aGlzLmlzT2NjdXJNb25kYXkgPSBvcHRpb25zICYmIG9wdGlvbnMuaXNPY2N1ck1vbmRheSB8fCBmYWxzZTtcbiAgICB0aGlzLmlzT2NjdXJUdWVzZGF5ID0gb3B0aW9ucyAmJiBvcHRpb25zLmlzT2NjdXJUdWVzZGF5IHx8IGZhbHNlO1xuICAgIHRoaXMuaXNPY2N1cldlZG5lc2RheSA9IG9wdGlvbnMgJiYgb3B0aW9ucy5pc09jY3VyV2VkbmVzZGF5IHx8IGZhbHNlO1xuICAgIHRoaXMuaXNPY2N1clRodXJzZGF5ID0gb3B0aW9ucyAmJiBvcHRpb25zLmlzT2NjdXJUaHVyc2RheSB8fCBmYWxzZTtcbiAgICB0aGlzLmlzT2NjdXJGcmlkYXkgPSBvcHRpb25zICYmIG9wdGlvbnMuaXNPY2N1ckZyaWRheSB8fCBmYWxzZTtcbiAgICB0aGlzLmlzT2NjdXJTYXR1cmRheSA9IG9wdGlvbnMgJiYgb3B0aW9ucy5pc09jY3VyU2F0dXJkYXkgfHwgZmFsc2U7XG4gICAgdGhpcy5pc09jY3VyU3VuZGF5ID0gb3B0aW9ucyAmJiBvcHRpb25zLmlzT2NjdXJTdW5kYXkgfHwgZmFsc2U7XG5cbiAgICAvLyBQZXJtaXNzaW9uc1xuICAgIHRoaXMuY2FuR3Vlc3RNb2RpZnkgPSBvcHRpb25zICYmIG9wdGlvbnMuY2FuR3Vlc3RNb2RpZnkgfHwgZmFsc2U7XG4gICAgdGhpcy5jYW5HdWVzdEludml0ZU90aGVycyA9IG9wdGlvbnMgJiYgb3B0aW9ucy5jYW5HdWVzdEludml0ZU90aGVycyB8fCBmYWxzZTtcbiAgICB0aGlzLmNhbkd1ZXN0U2VlR3Vlc3QgPSBvcHRpb25zICYmIG9wdGlvbnMuY2FuR3Vlc3RTZWVHdWVzdCB8fCBmYWxzZTtcbiAgICB0aGlzLm5vdGlmaWNhdGlvbkJ5ID0gb3B0aW9ucyAmJiBvcHRpb25zLm5vdGlmaWNhdGlvbkJ5IHx8IDE7XG4gICAgdGhpcy5ub3RpZmljYXRpb25CZWZvcmVIb3VycyA9IG9wdGlvbnMgJiYgb3B0aW9ucy5ub3RpZmljYXRpb25CZWZvcmVIb3VycyB8fCAwO1xuICAgIHRoaXMucmVxdWlyZWRDaGVja0luID0gb3B0aW9ucyAmJiBvcHRpb25zLnJlcXVpcmVkQ2hlY2tJbiB8fCBmYWxzZTtcblxuICAgIC8vIEV2ZW50IHRpbWVcbiAgICB0aGlzLmxvY2FsVGltZVpvbmUgPSBvcHRpb25zICYmIG9wdGlvbnMubG9jYWxUaW1lWm9uZSB8fCAnVVRDJztcbiAgICBsZXQgZmllbGRUaW1lem9uZU9mZnNldDogbnVtYmVyID0gSGVscFNlcnZpY2UuZ2V0VGltZXpvbmVPZmZzZXQodGhpcy5sb2NhbFRpbWVab25lKTtcbiAgICB0aGlzLnN0YXJ0RGF0ZSA9IG9wdGlvbnMgJiYgb3B0aW9ucy5zdGFydERhdGUgJiYgSGVscFNlcnZpY2UuY29udmVydFVUQ1RvTG9jYWxUaW1lKG9wdGlvbnMuc3RhcnREYXRlLCB0aGlzLmxvY2FsVGltZVpvbmUpIHx8ICcnO1xuICAgIHRoaXMuZW5kRGF0ZSA9IG9wdGlvbnMgJiYgb3B0aW9ucy5lbmREYXRlICYmIEhlbHBTZXJ2aWNlLmNvbnZlcnRVVENUb0xvY2FsVGltZShvcHRpb25zLmVuZERhdGUsIHRoaXMubG9jYWxUaW1lWm9uZSkgfHwgdW5kZWZpbmVkO1xuICAgIHRoaXMuaXNBbGxEYXRlRXZlbnQgPSBvcHRpb25zICYmICEhb3B0aW9ucy5pc0FsbERhdGVFdmVudDtcbiAgICB0aGlzLnN0YXJ0VGltZSA9IG9wdGlvbnMgJiYgKG9wdGlvbnMuc3RhcnRUaW1lICE9PSB1bmRlZmluZWQpXG4gICAgICAmJiBIZWxwU2VydmljZS5jb252ZXJ0RG91YmxlVGltZVRvU3RyaW5nKG9wdGlvbnMuc3RhcnRUaW1lICsgZmllbGRUaW1lem9uZU9mZnNldCkgfHwgJyc7XG4gICAgdGhpcy5lbmRUaW1lID0gb3B0aW9ucyAmJiAob3B0aW9ucy5lbmRUaW1lICE9PSB1bmRlZmluZWQpXG4gICAgICAmJiBIZWxwU2VydmljZS5jb252ZXJ0RG91YmxlVGltZVRvU3RyaW5nKG9wdGlvbnMuZW5kVGltZSArIGZpZWxkVGltZXpvbmVPZmZzZXQpIHx8ICcnO1xuICAgIHRoaXMuZW5kRGF0ZVR5cGUgPSBvcHRpb25zICYmIG9wdGlvbnMuZW5kRGF0ZVR5cGUgfHwgMTtcbiAgICB0aGlzLmVuZERhdGVUeXBlTmFtZSA9IG9wdGlvbnMgJiYgb3B0aW9ucy5lbmREYXRlVHlwZU5hbWUgfHwgJ1Vua25vd24gZW5kIGRhdGUgdHlwZSc7XG4gICAgdGhpcy5ldmVudFR5cGUgPSBvcHRpb25zICYmIG9wdGlvbnMuZXZlbnRUeXBlO1xuICAgIHRoaXMuZXZlbnRUeXBlTmFtZSA9IG9wdGlvbnMgJiYgb3B0aW9ucy5ldmVudFR5cGVOYW1lIHx8ICdVbmtub3duIGV2ZW50IHR5cGUnO1xuICAgIHRoaXMuc3BvbnNvcmVkQnlCcmFuY2ggPSBvcHRpb25zICYmIG5ldyBCcmFuY2gob3B0aW9ucy5zcG9uc29yZWRCeUJyYW5jaCkgfHwgbmV3IEJyYW5jaCgpO1xuXG4gICAgdGhpcy5pbWFnZXMgPSBvcHRpb25zICYmIG9wdGlvbnMuaW1hZ2VzLm1hcCgoaXRlbTogc3RyaW5nKSA9PiBFdmVudC5nZXRJbWFnZShpdGVtKSkgfHwgRXZlbnQuZ2V0SW1hZ2UoJycpO1xuXG4gICAgbGV0IHVzZXJEYXRhOiBhbnkgPSBvcHRpb25zICYmIG9wdGlvbnMuY3JlYXRlZEJ5ICYmIHtcbiAgICAgIHVzZXJJZDogb3B0aW9ucy5jcmVhdGVkQnkuaWQsXG4gICAgICB1c2VyTmFtZTogb3B0aW9ucy5jcmVhdGVkQnkudXNlck5hbWUsXG4gICAgICB1c2VySW1hZ2U6IG9wdGlvbnMuY3JlYXRlZEJ5LnVzZXJJbWFnZSxcbiAgICAgIGVtYWlsOiBvcHRpb25zLmNyZWF0ZWRCeS5lbWFpbFxuICAgIH0gfHwge307XG4gICAgdGhpcy5jcmVhdGVkQnkgPSB1c2VyRGF0YSAmJiBuZXcgVXNlcih1c2VyRGF0YSkgfHwgbmV3IFVzZXIoKTtcblxuICAgIHRoaXMuaGFzTWFpbkV2ZW50ID0gb3B0aW9ucyAmJiBvcHRpb25zLmhhc01haW5FdmVudDtcbiAgICB0aGlzLmhhc1N1YkV2ZW50ID0gb3B0aW9ucyAmJiBvcHRpb25zLmhhc1N1YkV2ZW50O1xuXG4gICAgdGhpcy5pc01lbWJlck9ubHkgPSBvcHRpb25zICYmIG9wdGlvbnMuaXNNZW1iZXJPbmx5O1xuICAgIHRoaXMuaXNQdWJsaWMgPSBvcHRpb25zICYmIG9wdGlvbnMuaXNQdWJsaWM7XG5cbiAgICB0aGlzLnJlZ2lzdHJhdGlvblN0YXJ0RGF0ZSA9IG9wdGlvbnMgJiYgb3B0aW9ucy5yZWdpc3RyYXRpb25TdGFydERhdGUgJiZcbiAgICAgIEhlbHBTZXJ2aWNlLmNvbnZlcnRVVENUb0xvY2FsVGltZShvcHRpb25zLnJlZ2lzdHJhdGlvblN0YXJ0RGF0ZSwgdGhpcy5sb2NhbFRpbWVab25lKSB8fCAnJztcbiAgICB0aGlzLnJlZ2lzdHJhdGlvbkVuZERhdGUgPSBvcHRpb25zICYmIG9wdGlvbnMucmVnaXN0cmF0aW9uRW5kRGF0ZSAmJlxuICAgICAgSGVscFNlcnZpY2UuY29udmVydFVUQ1RvTG9jYWxUaW1lKG9wdGlvbnMucmVnaXN0cmF0aW9uRW5kRGF0ZSwgdGhpcy5sb2NhbFRpbWVab25lKSB8fCAnJztcbiAgfVxufVxuXG4iXX0=
