"use strict";
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var core_1 = require('@angular/core');
var router_1 = require('@angular/router');
var authentication_service_1 = require('../../../services/authentication.service');
var PageHeaderComponent = (function () {
    function PageHeaderComponent(router, authService) {
        this.router = router;
        this.authService = authService;
    }
    PageHeaderComponent.prototype.ngOnInit = function () {
        var _this = this;
        var user = this.authService.getAuthenticatedUser();
        this.isLoggedIn = this.authService.isLoggedIn();
        this.userName = this.authService.getItem('userName') || '@freakick.user';
        this.userFullName = this.authService.getItem('fullName') || 'Freakick User';
        this.userImage = user.userImage;
        this.routerSub = this.router.events.subscribe(function (params) { return _this.handleRouterEvent(); });
    };
    PageHeaderComponent.prototype.ngOnDestroy = function () {
        this.routerSub.unsubscribe();
    };
    PageHeaderComponent.prototype.handleRouterEvent = function () {
        this.currentRoute = window.location.pathname;
    };
    PageHeaderComponent.prototype.login = function () {
        this.router.navigate(['/login/continue/', window.location.pathname + window.location.search]);
    };
    PageHeaderComponent.prototype.logout = function () {
        this.authService.logout();
        location.reload();
    };
    PageHeaderComponent = __decorate([
        core_1.Component({
            moduleId: module.id,
            selector: 'app-page-header',
            template: "<div class=\"site-wrapper clearfix\">     <div class=\"site-overlay\"></div>     <!-- Header         ================================================== -->     <!-- Header Mobile -->     <div class=\"header-mobile clearfix\" id=\"header-mobile\"          [class.header-mobile--expanded]=\"expandSearchBox\">         <div class=\"header-mobile__logo\">             <a [routerLink]=\"['/app/newsfeed/']\">                 <img src=\"./assets/images/freakick-logo.png\"                      srcset=\"./assets/images/freakick-logo.png 3x\"                      alt=\"Alchemists\" class=\"header-mobile__logo-img\"></a>         </div>         <div class=\"header-mobile__inner\">             <a id=\"header-mobile__toggle\" class=\"burger-menu-icon\"><span                     class=\"burger-menu-icon__line\"></span></a>             <span class=\"header-mobile__search-icon\" id=\"header-mobile__search-icon\"                   [class.header-mobile__search-icon--close]=\"expandSearchBox\"                   (click)=\"expandSearchBox = !expandSearchBox\"></span>         </div>         <div class=\"header-search-form\">             <form action=\"#\" id=\"mobile-search-form\" class=\"search-form\">                 <input type=\"text\"                        class=\"form-control header-mobile__search-control\"                        value=\"\" placeholder=\"Enter your seach here...\">                 <button type=\"submit\" class=\"header-mobile__search-submit\"><i                         class=\"fa fa-search\"></i></button>             </form>         </div>     </div>     <!-- Header Desktop -->     <header class=\"header\">         <!-- Header Secondary -->         <div class=\"header__secondary\">             <div class=\"container\">                 <!-- Header Search Form -->                 <div class=\"header-search-form\">                     <form action=\"#\" id=\"mobile-search-form\"                           class=\"search-form\">                         <input type=\"text\"                                class=\"form-control header-mobile__search-control\"                                value=\"\" placeholder=\"Enter your seach here...\">                         <button class=\"header-mobile__search-submit\"><i                                 class=\"fa fa-search\"></i></button>                     </form>                 </div>                 <!-- Header Search Form / End -->                 <ul class=\"info-block info-block--header\">                     <li class=\"info-block__item info-block__item--shopping-cart\">                         <a [routerLink]=\"['/app/leagues']\" class=\"info-block__link-wrapper\">                             <div class=\"df-icon-stack df-icon-stack--bag\">                                 <img alt=\"\" class=\"img-circle\" [src]=\"'./assets/images/application/top-menu-league.png'\">                             </div>                             <h6 class=\"info-block__heading\">League</h6>                             <span class=\"info-block__link\">1 league</span>                         </a>                     </li>                     <li class=\"info-block__item info-block__item--shopping-cart\">                         <a [routerLink]=\"['/app/teams']\" class=\"info-block__link-wrapper\">                             <div class=\"df-icon-stack df-icon-stack--bag\">                                 <img alt=\"\" class=\"img-circle\" [src]=\"'./assets/images/application/top-menu-team.png'\">                             </div>                             <h6 class=\"info-block__heading\">Team</h6>                             <span class=\"info-block__link\">2 teams</span>                         </a>                     </li>                     <li class=\"info-block__item info-block__item--shopping-cart has-children\">                         <a [routerLink]=\"['/app/profile']\" class=\"info-block__link-wrapper\">                             <div class=\"df-icon-stack df-icon-stack--bag\">                                 <img alt=\"\" class=\"img-circle\" [src]=\"userImage\"                                      (error)=\"$event.target.src = './assets/images/default/user_logo.png'\">                             </div>                             <h6 class=\"info-block__heading\">{{ userFullName }}</h6>                             <span class=\"info-block__link\">{{ '@' + userName }}</span>                         </a>                         <ul class=\"header-cart\">                             <li class=\"header-cart__item\">                                 <div class=\"header-cart__inner\">                                     <h5 class=\"header-cart__product-name\" (click)=\"logout($event)\">                                         <a> <i class=\"icon-key\"></i> Logout</a></h5>                                 </div>                             </li>                         </ul>                     </li>                 </ul>             </div>         </div>         <!-- Header Secondary / End -->          <!-- Header Primary -->         <div class=\"header__primary\">             <div class=\"container\">                 <div class=\"header__primary-inner\">                      <!-- Header Logo -->                     <div class=\"header-logo\">                         <a [routerLink]=\"['/app/newsfeed/']\">                             <img src=\"./assets/images/freakick-logo.png\"                                  srcset=\"./assets/images/freakick-logo.png 3x\"                                  alt=\"Alchemists\" class=\"header-logo__img\"></a>                     </div>                     <!-- Header Logo / End -->                      <!-- Main Navigation -->                     <nav *ngIf=\"hasLeague\" class=\"main-nav clearfix\">                         <ul *ngIf=\"currentRoute\" class=\"main-nav__list\">                             <div class=\"header-mobile__logo\">                                 <span class=\"main-nav__back\"></span>                                 <a [routerLink]=\"['/']\">                                     <img src=\"./assets/images/freakick-logo.png\"                                          srcset=\"./assets/images/freakick-logo.png 3x\"                                          alt=\"Alchemists\"                                          class=\"header-mobile__logo-img\"></a>                             </div>                             <li [class.active]=\"currentRoute.startsWith('/app/newsfeed')\">                                 <a [routerLink]=\"['/app/newsfeed']\">                                     <i class=\"fa fa-feed\"></i>                                     <span class=\"title\">News feed</span>                                 </a>                             </li>                             <li [class.active]=\"currentRoute.startsWith('/app/facilities')\">                                 <a [routerLink]=\"['/app/fields']\">                                     <i class=\"fa fa-th-large\"></i>                                     <span class=\"title\">Fields</span>                                 </a>                             </li>                             <li [class.active]=\"currentRoute.startsWith('/app/facilities')\">                                 <a [routerLink]=\"['/app/facilities']\">                                     <i class=\"fa fa-map\"></i>                                     <span class=\"title\">Facilities</span>                                 </a>                             </li>                             <li [class.active]=\"currentRoute.startsWith('/app/classes')\">                                 <a [routerLink]=\"['/app/classes']\">                                     <i class=\"fa fa-leanpub\"></i>                                     <span class=\"title\">Classes</span>                                 </a>                             </li>                             <li [class.active]=\"currentRoute.startsWith('/app/maps')\">                                 <a [routerLink]=\"['/app/maps']\">                                     <i class=\"fa fa-map-marker\"></i>                                     <span class=\"title\">Maps</span>                                 </a>                             </li>                             <li class=\"nav-account__item\">                                 <a data-toggle=\"modal\"                                    data-target=\"#modal-login-register-tabs\">Your Account</a>                             </li>                             <li class=\"nav-account__item nav-account__item--logout\">                                 <a (click)=\"logout($event)\">                                     <i class=\"fa fa-key\"></i>Logout</a>                             </li>                         </ul>                          <!-- Social Links -->                         <ul class=\"social-links social-links--inline social-links--main-nav\">                             <li class=\"social-links__item\">                                 <a class=\"social-links__link\"                                    data-toggle=\"tooltip\" data-placement=\"bottom\"                                    title=\"\" data-original-title=\"Facebook\">                                     <i class=\"fa fa-facebook\"></i>                                 </a>                             </li>                             <li class=\"social-links__item\">                                 <a class=\"social-links__link\"                                    data-toggle=\"tooltip\" data-placement=\"bottom\"                                    title=\"\" data-original-title=\"Twitter\">                                     <i class=\"fa fa-twitter\"></i>                                 </a>                             </li>                             <li class=\"social-links__item\">                                 <a class=\"social-links__link\"                                    data-toggle=\"tooltip\" data-placement=\"bottom\"                                    title=\"\" data-original-title=\"Google+\">                                     <i class=\"fa fa-google-plus\"></i>                                 </a>                             </li>                         </ul>                         <!-- Social Links / End -->                     </nav>                     <!-- Main Navigation / End -->                 </div>             </div>         </div>         <!-- Header Primary / End -->     </header> </div>",
            styles: [".site-wrapper{z-index:10;position:relative}.main-nav__list>li{margin-top:0}.header-logo{bottom:10px}.header-logo__img{width:70px}@media only screen and (max-width:991px){.header-mobile__logo-img{width:90px}}@media (min-width:992px){.info-block--header .info-block__item .df-icon-stack--bag{top:22px}}.info-block--header .header-cart{width:200px}.info-block--header .header-cart__item{margin:0;padding:8px 16px}.has-league .header-logo{bottom:21px}.has-league .header-logo__img{width:110px}"]
        }), 
        __metadata('design:paramtypes', [router_1.Router, authentication_service_1.AuthenticationService])
    ], PageHeaderComponent);
    return PageHeaderComponent;
}());
exports.PageHeaderComponent = PageHeaderComponent;
